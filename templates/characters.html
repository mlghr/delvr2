{% extends 'base.html' %}
{% block title %}Character Sheet{% endblock %}

{% block content %}
<div class="container px-5">
    <h1 class="text-center">Characters</h1>

        <ul>
            <div class="container text-center">
                <form class="text-center" action="/characters/new" style="display:inline-block">
                    <button id="char-btn" class="btn btn-success">Create New</button>
                </form>
                <form class="text-center" action="/campaigns" style="display:inline-block">
                    <button id="camp-btn" class="btn btn-success">View Campaigns</button>
                </form>
            </div>
            {% for c in characters %}
                {% if session['user_id'] == c.user_id %}
                <div class="card character-card">
                    <div class="card-body">
                        <h2 class="card-title text-center"> <u>{{ c.name.upper() }}</u></h2>
                        <p class="card-text">
                            Class is  <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#c_class-modal"><b>{{ c.c_class.capitalize() }}</b></button></p>
                        <p class="card-text">
                           Race is <b>{{c.race.capitalize()}}</b>
                        </p>
                        <p class="card-text">
                           Equipment - <b>{{c.equipment.capitalize()}}</b>
                        </p>
                        <p class="card-text">
                           Hails from the land of <b>{{c.origin.capitalize()}}</b>
                        </p>
                        <i>{{ c.user.username }}</i> created <b>{{ c.name.capitalize() }}</b>
                        <div class="text-center">
                            <form class="text-center my-4" action="/characters/{{ c.id }}/delete" style="display:inline-block">
                                <button class="btn btn-danger">Delete</button>
                            </form>
                            <form class="text-center my-4" action="/characters/{{ c.id }}/edit" style="display:inline-block">
                                <button class="btn btn-warning">Edit</button>
                            </form>
                        </div>
                    </div>
                </div>
                {% endif %}
            {% endfor %}
        </ul>

        <!-- MODAL MADNESS -- ENTER IF YOU DARE -->
        <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModalCenter">
            Launch demo modal
          </button>
          
          <!-- Modal -->
          <div class="modal fade" id="c_class-modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="exampleModalLongTitle">Class Information</h5>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body">
                    <!-- {% for item in c_class %}
                        <li>{{ item }}</li>
                    {% endfor %} -->

                    {% for item in equip %}
                        <li>{{ item }}</li>
                    {% endfor %}
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
              </div>
            </div>
          </div>

</div>

{% for key in name %}
    <li> {{ key }}</li>
    <li>{{ name[key] }}</li>
{% endfor %}

{% endblock %}